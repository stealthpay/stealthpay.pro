<script>
  const p = prompt("Sláðu inn lykilorð:");
  if (p !== "!") { alert("Aðgangur hafnað."); location.href = "https://google.com"; }
</script>
<!doctype html>
<html lang="is">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>StealthPay – Stofna aðgang</title>
  <link rel="icon" href="logo.png"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#0b0e12; --card:#10141a; --muted:#9aa6b2; --text:#e8eef7;
      --line:#1e2530; --focus:#2563eb; --grad1:#10b981; --grad2:#2563eb;
      --error:#ef4444; --ok:#10b981;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{min-height:100svh;display:grid;place-items:center;padding:24px}
    .card{width:100%;max-width:560px;background:var(--card);border:1px solid var(--line);border-radius:16px;padding:28px 24px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .brand{display:flex;align-items:center;gap:10px;margin-bottom:8px}
    .logo{height:36px;width:36px;border-radius:9px;background:linear-gradient(135deg,var(--grad2),var(--grad1));display:grid;place-items:center;font-weight:700}
    h1{font-size:26px;margin:6px 0 6px}
    .muted{color:var(--muted)}
    label{display:block;font-weight:600;margin:14px 0 8px}
    input{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--line);background:#0d1116;color:var(--text);outline:none}
    input:focus{border-color:var(--focus);box-shadow:0 0 0 4px rgba(37,99,235,.15)}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:12px 16px;border-radius:10px;border:1px solid var(--line);background:#0f1216;color:var(--text);cursor:pointer}
    .btn.primary{border:none;background:linear-gradient(90deg,var(--grad1),var(--grad2));font-weight:700}
    .btn.primary:disabled{filter:grayscale(.4);opacity:.6;cursor:not-allowed}
    .top-actions{display:flex;justify-content:space-between;align-items:center;margin-top:16px}
    .link{color:#8ab4ff;text-decoration:none}
    .err{color:var(--error);font-size:13px;margin-top:6px;display:none}
    .ok{color:var(--ok);font-size:13px;margin-top:6px;display:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="brand">
        <div class="logo">S</div>
        <div>
          <div style="font-weight:700">StealthPay</div>
          <div class="muted" style="font-size:13px">Búðu til þinn StealthPay aðgang</div>
        </div>
      </div>
      <h1>Stofna aðgang</h1>

      <label for="name">Fullt nafn</label>
      <input id="name" type="text" placeholder="Sláðu inn fullt nafn" autocomplete="name"/>

      <label for="pw">Lykilorð</label>
      <input id="pw" type="password" placeholder="Búðu til lykilorð" autocomplete="new-password"/>

      <label for="pw2">Staðfesta lykilorð</label>
      <input id="pw2" type="password" placeholder="Staðfestu lykilorð" autocomplete="new-password"/>
      <div id="pwErr" class="err">Lykilorðin passa ekki</div>
      <div id="pwOk" class="ok">Lykilorðin passa ✔</div>

      <div class="top-actions">
        <a class="link" href="login.html">Ertu þegar með aðgang? Innskrá hér</a>
        <div class="row">
          <a class="btn" href="index.html">← Forsíða</a>
          <button id="submit" class="btn primary" disabled>Stofna aðgang</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/auth.js"></script>
  <script>
    // virkjum/óvirkjum hnapp og sýnum stöðu
    const pw = document.getElementById('pw');
    const pw2 = document.getElementById('pw2');
    const btn = document.getElementById('submit');
    const err = document.getElementById('pwErr');
    const ok  = document.getElementById('pwOk');

    function validate() {
      const goodLen = (pw.value || '').length >= 8;
      const same = pw.value && pw.value === pw2.value;
      if (!pw.value || !pw2.value) { err.style.display='none'; ok.style.display='none'; btn.disabled = true; return; }
      if (same && goodLen) { err.style.display='none'; ok.style.display='block'; btn.disabled = false; }
      else { ok.style.display='none'; err.style.display='block'; btn.disabled = true; }
    }
    pw.addEventListener('input', validate);
    pw2.addEventListener('input', validate);
  </script>
</body>
</html>
